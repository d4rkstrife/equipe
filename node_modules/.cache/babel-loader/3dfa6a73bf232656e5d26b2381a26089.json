{"ast":null,"code":"import _classCallCheck from\"C:/Users/pgdc8/Desktop/equipe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/pgdc8/Desktop/equipe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/pgdc8/Desktop/equipe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/pgdc8/Desktop/equipe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/pgdc8/Desktop/equipe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import firebase from'firebase';var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.state={date:'',numeroTrain:'',nombreClient:'',sbControle:'',sbBord:'',sbPv:'',nbrBnc:'',nbrAutres:'',total:'',commentaires:''};_this.submit=_this.submit.bind(_assertThisInitialized(_this));return _this;}_createClass(Form,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Rapport\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form-rapport\",onSubmit:this.submit,noValidate:true},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"date\"},\"Date : \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",id:\"date\",name:\"date\",value:this.state.date,onChange:function onChange(e){return _this2.setState({date:e.target.value});},required:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"numero-train\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"numero-train\",name:\"numero-train\",value:this.state.numeroTrain,placeholder:\"Num\\xE9ro Train\",onChange:function onChange(e){return _this2.setState({numeroTrain:e.target.value});},required:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nbr-clients\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"nbr-clients\",name:\"nbr-clients\",value:this.state.nombreClient,placeholder:\"Personnes control\\xE9es\",onChange:function onChange(e){return _this2.setState({nombreClient:e.target.value});},required:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sb-controle\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"sb-controle\",name:\"sb-controle\",value:this.state.sbControle,placeholder:\"Nombre SB Contr\\xF4le\",onChange:function onChange(e){return _this2.setState({sbControle:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sb-bord\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"sb-bord\",name:\"sb-bord\",value:this.state.sbBord,placeholder:\"Nombre SB Bord\",onChange:function onChange(e){return _this2.setState({sbBord:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sb-pv\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"sb-pv\",name:\"sb-pv\",value:this.state.sbPv,placeholder:\"Nombre SB PV\",onChange:function onChange(e){return _this2.setState({sbPv:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"bnc\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"bnc\",name:\"bnc\",value:this.state.nbrBnc,placeholder:\"Nombre BNC\",onChange:function onChange(e){return _this2.setState({nbrBnc:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"autres\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"autres\",name:\"autres\",value:this.state.nbrAutres,placeholder:\"Autres\",onChange:function onChange(e){return _this2.setState({nbrAutres:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"total\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"total\",name:\"total\",value:this.state.total,placeholder:\"Montant Total\",onChange:function onChange(e){return _this2.setState({total:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"commentaires\"}),/*#__PURE__*/React.createElement(\"textarea\",{id:\"commentaires\",name:\"commentaires\",value:this.state.commentaires,placeholder:\"Commentaires\",onChange:function onChange(e){return _this2.setState({commentaires:e.target.value});}})),/*#__PURE__*/React.createElement(\"button\",{className:\"pink_button\",type:\"submit\"},\"Envoyer Rapport\"),/*#__PURE__*/React.createElement(\"p\",null,this.state.errorMessage)));}},{key:\"submit\",value:function submit(event){event.preventDefault();var db=firebase.firestore();if(this.state.date!==''&&this.state.numeroTrain!==''&&this.state.nombreClient!==''){db.collection('rapports').add({data:this.state,user:firebase.auth().currentUser.displayName});this.setState({date:'',numeroTrain:'',nombreClient:'',sbControle:'',sbBord:'',sbPv:'',nbrBnc:'',nbrAutres:'',total:'',commentaires:''});}else{console.log(\"error\");this.setState({errorMessage:\"Les champs date, numero train et nombre clients sont obligatoires.\"});}}}]);return Form;}(Component);export default Form;","map":{"version":3,"sources":["C:/Users/pgdc8/Desktop/equipe/src/Form.js"],"names":["React","Component","firebase","Form","props","state","date","numeroTrain","nombreClient","sbControle","sbBord","sbPv","nbrBnc","nbrAutres","total","commentaires","submit","bind","e","setState","target","value","errorMessage","event","preventDefault","db","firestore","collection","add","data","user","auth","currentUser","displayName","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport firebase from 'firebase'\r\n\r\nclass Form extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            date: '',\r\n            numeroTrain: '',\r\n            nombreClient: '',\r\n            sbControle: '',\r\n            sbBord: '',\r\n            sbPv: '',\r\n            nbrBnc: '',\r\n            nbrAutres: '',\r\n            total: '',\r\n            commentaires: ''\r\n        }\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3>Rapport</h3>\r\n                <form className=\"form-rapport\" onSubmit={this.submit}\r\n                    noValidate>\r\n                    <div>\r\n                        <label htmlFor=\"date\">Date : </label>\r\n                        <input type=\"date\" id=\"date\" name=\"date\" value={this.state.date}\r\n                            onChange={e => this.setState({ date: e.target.value })} required></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"numero-train\"></label>\r\n                        <input type=\"number\" id=\"numero-train\" name=\"numero-train\" value={this.state.numeroTrain} placeholder=\"Numéro Train\"\r\n                            onChange={e => this.setState({ numeroTrain: e.target.value })} required></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"nbr-clients\"></label>\r\n                        <input type=\"number\" id=\"nbr-clients\" name=\"nbr-clients\" value={this.state.nombreClient} placeholder=\"Personnes controlées\"\r\n                            onChange={e => this.setState({ nombreClient: e.target.value })} required></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"sb-controle\"></label>\r\n                        <input type=\"number\" id=\"sb-controle\" name=\"sb-controle\" value={this.state.sbControle} placeholder=\"Nombre SB Contrôle\"\r\n                            onChange={e => this.setState({ sbControle: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"sb-bord\"></label>\r\n                        <input type=\"number\" id=\"sb-bord\" name=\"sb-bord\" value={this.state.sbBord} placeholder=\"Nombre SB Bord\"\r\n                            onChange={e => this.setState({ sbBord: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"sb-pv\"></label>\r\n                        <input type=\"number\" id=\"sb-pv\" name=\"sb-pv\" value={this.state.sbPv} placeholder=\"Nombre SB PV\"\r\n                            onChange={e => this.setState({ sbPv: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"bnc\"></label>\r\n                        <input type=\"number\" id=\"bnc\" name=\"bnc\" value={this.state.nbrBnc} placeholder=\"Nombre BNC\"\r\n                            onChange={e => this.setState({ nbrBnc: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"autres\"></label>\r\n                        <input type=\"number\" id=\"autres\" name=\"autres\" value={this.state.nbrAutres} placeholder=\"Autres\"\r\n                            onChange={e => this.setState({ nbrAutres: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"total\"></label>\r\n                        <input type=\"number\" id=\"total\" name=\"total\" value={this.state.total} placeholder=\"Montant Total\"\r\n                            onChange={e => this.setState({ total: e.target.value })}></input>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"commentaires\"></label>\r\n                        <textarea id=\"commentaires\" name=\"commentaires\" value={this.state.commentaires} placeholder=\"Commentaires\"\r\n                            onChange={e => this.setState({ commentaires: e.target.value })}></textarea>\r\n                    </div>\r\n                    <button className=\"pink_button\" type=\"submit\">Envoyer Rapport</button>\r\n                    <p>{this.state.errorMessage}</p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n    submit(event) {\r\n        event.preventDefault();\r\n        let db = firebase.firestore();\r\n        if (this.state.date !== '' && this.state.numeroTrain !== '' && this.state.nombreClient !== '') {\r\n            db.collection('rapports').add({\r\n                data: this.state,\r\n                user: firebase.auth().currentUser.displayName\r\n            });\r\n            this.setState({\r\n                date: '',\r\n                numeroTrain: '',\r\n                nombreClient: '',\r\n                sbControle: '',\r\n                sbBord: '',\r\n                sbPv: '',\r\n                nbrBnc: '',\r\n                nbrAutres: '',\r\n                total: '',\r\n                commentaires: ''\r\n            })\r\n        } else {\r\n            console.log(\"error\")\r\n            this.setState({ errorMessage: \"Les champs date, numero train et nombre clients sont obligatoires.\" })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}