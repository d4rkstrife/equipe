{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pgdc8\\\\Desktop\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pgdc8\\\\Desktop\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\pgdc8\\\\Desktop\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pgdc8\\\\Desktop\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import TrainDetails from'./TrainDetails';import firebase from'firebase';var Train=/*#__PURE__*/function(_Component){_inherits(Train,_Component);var _super=_createSuper(Train);function Train(props){var _this;_classCallCheck(this,Train);_this=_super.call(this,props);_this.state={data:null};return _this;}_createClass(Train,[{key:\"render\",value:function render(){if(this.state.data===null){return/*#__PURE__*/React.createElement(\"p\",null,\"Chargement des trains\");}else{return/*#__PURE__*/React.createElement(Fragment,null,this.state.data.departures.map(function(item,index){return/*#__PURE__*/React.createElement(TrainDetails,{key:index,item:item,index:index});}));}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var d=new Date();var year=this.formatDate(d.getFullYear());var month=this.formatDate(d.getMonth()+1);var day=this.formatDate(d.getDate());var hour=this.formatDate(d.getHours());var minute=this.formatDate(d.getMinutes());var second=this.formatDate(d.getSeconds());var date=\"\".concat(year).concat(month).concat(day).concat(hour).concat(minute).concat(second);fetch(\"https://api.navitia.io/v1/coverage/fr-se/physical_modes/physical_mode:Tramway/stop_areas/\".concat(this.props.data,\"/departures?from_datetime=\").concat(date,\"&key=0a6f65c0-c3be-4fe3-a8e5-9aac523d5be7\")).then(function(reponse){return reponse.json();}).then(function(data){return _this2.setState({data:data});});}},{key:\"formatDate\",value:function formatDate(number){if(number<10){number=\"0\"+number.toString();}else{number=number.toString();}return number;}}]);return Train;}(Component);export default Train;","map":{"version":3,"sources":["C:/Users/pgdc8/Desktop/my-app/src/Train.js"],"names":["React","Component","Fragment","TrainDetails","firebase","Train","props","state","data","departures","map","item","index","d","Date","year","formatDate","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","date","fetch","then","reponse","json","setState","number","toString"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,C,GAGMC,CAAAA,K,8FACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,IADG,CAAb,CAHe,aAMlB,C,yDACQ,CACL,GAAI,KAAKD,KAAL,CAAWC,IAAX,GAAoB,IAAxB,CAA8B,CAC1B,mBACI,qDADJ,CAGH,CAJD,IAIO,CACH,mBACI,oBAAC,QAAD,MAEQ,KAAKD,KAAL,CAAWC,IAAX,CAAgBC,UAAhB,CAA2BC,GAA3B,CAA+B,SAACC,IAAD,CAAOC,KAAP,qBAC3B,oBAAC,YAAD,EAAc,GAAG,CAAEA,KAAnB,CAA0B,IAAI,CAAED,IAAhC,CAAsC,KAAK,CAAEC,KAA7C,EAD2B,EAA/B,CAFR,CADJ,CASH,CAEJ,C,6DAGmB,iBAChB,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAR,CACA,GAAIC,CAAAA,IAAI,CAAG,KAAKC,UAAL,CAAgBH,CAAC,CAACI,WAAF,EAAhB,CAAX,CACA,GAAIC,CAAAA,KAAK,CAAG,KAAKF,UAAL,CAAgBH,CAAC,CAACM,QAAF,GAAe,CAA/B,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,KAAKJ,UAAL,CAAgBH,CAAC,CAACQ,OAAF,EAAhB,CAAV,CACA,GAAIC,CAAAA,IAAI,CAAG,KAAKN,UAAL,CAAgBH,CAAC,CAACU,QAAF,EAAhB,CAAX,CACA,GAAIC,CAAAA,MAAM,CAAG,KAAKR,UAAL,CAAgBH,CAAC,CAACY,UAAF,EAAhB,CAAb,CACA,GAAIC,CAAAA,MAAM,CAAG,KAAKV,UAAL,CAAgBH,CAAC,CAACc,UAAF,EAAhB,CAAb,CAEA,GAAIC,CAAAA,IAAI,WAAMb,IAAN,SAAaG,KAAb,SAAqBE,GAArB,SAA2BE,IAA3B,SAAkCE,MAAlC,SAA2CE,MAA3C,CAAR,CACAG,KAAK,oGAA6F,KAAKvB,KAAL,CAAWE,IAAxG,sCAAyIoB,IAAzI,8CAAL,CACKE,IADL,CACU,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,IAAR,EAAJ,EADjB,EAEKF,IAFL,CAEU,SAAAtB,IAAI,QAAI,CAAA,MAAI,CAACyB,QAAL,CAAc,CAAEzB,IAAI,CAAJA,IAAF,CAAd,CAAJ,EAFd,EAGH,C,8CACU0B,M,CAAQ,CACf,GAAIA,MAAM,CAAG,EAAb,CAAiB,CACbA,MAAM,CAAG,IAAMA,MAAM,CAACC,QAAP,EAAf,CACH,CAFD,IAEO,CACHD,MAAM,CAAGA,MAAM,CAACC,QAAP,EAAT,CACH,CACD,MAAOD,CAAAA,MAAP,CACH,C,mBAjDejC,S,EAoDpB,cAAeI,CAAAA,KAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport TrainDetails from './TrainDetails';\r\nimport firebase from 'firebase';\r\n\r\n\r\nclass Train extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: null,\r\n        };\r\n    }\r\n    render() {\r\n        if (this.state.data === null) {\r\n            return (\r\n                <p>Chargement des trains</p>\r\n            )\r\n        } else {\r\n            return (\r\n                <Fragment>\r\n                    {\r\n                        this.state.data.departures.map((item, index) =>\r\n                            <TrainDetails key={index} item={item} index={index} />\r\n                        )\r\n                    }\r\n                </Fragment>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        let d = new Date();\r\n        let year = this.formatDate(d.getFullYear());\r\n        let month = this.formatDate(d.getMonth() + 1);\r\n        let day = this.formatDate(d.getDate());\r\n        let hour = this.formatDate(d.getHours());\r\n        let minute = this.formatDate(d.getMinutes());\r\n        let second = this.formatDate(d.getSeconds());\r\n\r\n        let date = `${year}${month}${day}${hour}${minute}${second}`\r\n        fetch(`https://api.navitia.io/v1/coverage/fr-se/physical_modes/physical_mode:Tramway/stop_areas/${this.props.data}/departures?from_datetime=${date}&key=0a6f65c0-c3be-4fe3-a8e5-9aac523d5be7`)\r\n            .then(reponse => reponse.json())\r\n            .then(data => this.setState({ data }));\r\n    }\r\n    formatDate(number) {\r\n        if (number < 10) {\r\n            number = \"0\" + number.toString();\r\n        } else {\r\n            number = number.toString();\r\n        }\r\n        return number;\r\n    }\r\n}\r\n\r\nexport default Train;"]},"metadata":{},"sourceType":"module"}