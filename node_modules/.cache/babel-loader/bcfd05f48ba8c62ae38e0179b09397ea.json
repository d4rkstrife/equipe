{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pgdc8\\\\Desktop\\\\equipe\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport ListeGare from './ListeGare';\nimport firebase from 'firebase';\nimport LogIn from './LogIn';\nimport Form from './Form';\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport logoMaison from \"./image/home.svg\";\nimport logoDeco from \"./image/log-out.svg\";\nimport logoFormConsult from \"./image/file-text.svg\";\nimport logoForm from \"./image/file.svg\";\nimport About from './About';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      connectedUser: null,\n      pageReady: false,\n      isAdmin: false\n    };\n    this.logOut = this.logOut.bind(this);\n  }\n\n  render() {\n    console.log(firebase.auth().currentUser);\n\n    if (this.state.pageReady && this.state.connectedUser) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }\n      }, \"Equipe de ligne\"), /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"navibar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"navibar_lien\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"logo_maison\",\n        src: logoMaison,\n        alt: \"Accueil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 32\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"navibar_lien\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"logo_maison\",\n        src: logoForm,\n        alt: \"Formulaire\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 36\n        }\n      }))), this.state.isAdmin ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"navibar_lien\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/about\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"logo_maison\",\n        src: logoFormConsult,\n        alt: \"User\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 39\n        }\n      }))) : \"\", /*#__PURE__*/React.createElement(\"li\", {\n        className: \"navibar_lien\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        id: \"deco_button\",\n        onClick: this.logOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"logo_deco\",\n        src: logoDeco,\n        alt: \"Deco\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 66\n        }\n      })))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main-route-place\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: ListeGare,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/about\",\n        component: About,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/form\",\n        component: Form,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      })))));\n    } else if (this.state.pageReady && !this.state.connectedUser) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, \"Equipe de ligne\"), /*#__PURE__*/React.createElement(LogIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, \"Equipe de ligne\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, \"Chargement...\"));\n    }\n  }\n\n  componentDidMount() {\n    let that = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      that.setState({\n        connectedUser: user\n      });\n    });\n    let userDb = firebase.firestore();\n    userDb.collection('adminUsers').doc('p.gdc85@gmail.com').get().then(function (doc) {\n      if (doc.exists && doc.data().isAdmin === true) {\n        that.setState({\n          isAdmin: true\n        });\n      } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n    setTimeout(() => {\n      this.setState({\n        pageReady: true\n      });\n    }, 1000);\n  }\n\n  logOut() {\n    let that = this;\n    firebase.auth().signOut().then(function () {\n      // Sign-out successful.\n      that.setState({\n        connectedUser: null\n      });\n    }).catch(function (error) {// An error happened.\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/pgdc8/Desktop/equipe/src/App.js"],"names":["React","ListeGare","firebase","LogIn","Form","BrowserRouter","Route","Link","About","App","Component","constructor","props","state","connectedUser","pageReady","isAdmin","logOut","bind","render","console","log","auth","currentUser","logoMaison","logoForm","logoFormConsult","logoDeco","componentDidMount","that","onAuthStateChanged","user","setState","userDb","firestore","collection","doc","get","then","exists","data","catch","error","setTimeout","signOut"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport ListeGare from './ListeGare';\nimport firebase from 'firebase';\nimport LogIn from './LogIn';\nimport Form from './Form'\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport logoMaison from './image/home.svg';\nimport logoDeco from './image/log-out.svg';\nimport logoFormConsult from './image/file-text.svg';\nimport logoForm from './image/file.svg';\nimport About from './About';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      connectedUser: null,\n      pageReady: false,\n      isAdmin: false\n    }\n    this.logOut = this.logOut.bind(this)\n  }\n  render() {\n    console.log(firebase.auth().currentUser)\n    if (this.state.pageReady && this.state.connectedUser) {\n      return (\n        <div className=\"App\">\n          <h1>Equipe de ligne</h1>\n\n\n          <BrowserRouter>\n            <div>\n              <ul className=\"navibar\">\n                <li className=\"navibar_lien\">\n                  <Link to=\"/\"><img id=\"logo_maison\" src={logoMaison} alt=\"Accueil\" /></Link>\n                </li>\n                <li className=\"navibar_lien\">\n                  <Link to=\"/form\"><img id=\"logo_maison\" src={logoForm} alt=\"Formulaire\" /></Link>\n                </li>\n                {this.state.isAdmin ? (\n                  <li className=\"navibar_lien\">\n                    <Link to=\"/about\"><img id=\"logo_maison\" src={logoFormConsult} alt=\"User\" /></Link>\n                  </li>\n                ) : (\"\")}\n                <li className=\"navibar_lien\">\n                  <button id=\"deco_button\" onClick={this.logOut}><img id=\"logo_deco\" src={logoDeco} alt=\"Deco\" /></button>\n                </li>\n\n              </ul>\n\n              <hr />\n              <div className=\"main-route-place\">\n                <Route exact path=\"/\" component={ListeGare} />\n                <Route path=\"/about\" component={About} />\n                <Route path=\"/form\" component={Form} />\n              </div>\n            </div>\n          </BrowserRouter>\n        </div>\n      );\n    } else if (this.state.pageReady && !this.state.connectedUser) {\n      return (\n        <div className=\"App\">\n          <h1>Equipe de ligne</h1>\n          <LogIn />\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"App\">\n          <h1>Equipe de ligne</h1>\n          <p>Chargement...</p>\n        </div>\n      )\n    }\n  }\n  componentDidMount() {\n    let that = this\n    firebase.auth().onAuthStateChanged(function (user) {\n      that.setState({ connectedUser: user })\n    })\n    let userDb = firebase.firestore();\n    userDb.collection('adminUsers').doc('p.gdc85@gmail.com').get()\n      .then(function (doc) {\n        if (doc.exists && doc.data().isAdmin === true) {\n          that.setState({ isAdmin: true })\n        } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n\n    setTimeout(() => { this.setState({ pageReady: true }) }, 1000);\n  }\n  logOut() {\n    let that = this\n    firebase.auth().signOut().then(function () {\n      // Sign-out successful.\n      that.setState({ connectedUser: null })\n    }).catch(function (error) {\n      // An error happened.\n    });\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}